---
// ImageCarousel.astro
const images = [
    '/hitting.png',
    '/running.png',
    '/agility.png',
    '/fielding.png',
    '/throwing.png'
];
let activeIndex = 0;

function slide(direction) {
    activeIndex = (activeIndex + direction + images.length) % images.length;
}
---

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap');
/* ... rest of your provided CSS ... */
.carousel {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 800px; /* Adjust based on your requirement */
    overflow: hidden;
}
.carousel-images {
    display: flex;
    transition: transform 0.5s ease;

}
.carousel-image {
    max-width: 100%; /* Ensure the image is responsive and fits within the container */
    width: auto; /* You can set a specific width or use 'auto' */
    height: auto; /* You can set a specific height or use 'auto' to maintain the aspect ratio */
    display: none; /* Keeps non-active images hidden */
    transition: opacity 0.5s ease;
}
.carousel-image.active {
    display: block;
}
.carousel-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    cursor: pointer;
    padding: 10px;
    z-index: 100;
}
.carousel-button.prev {
    left: 10px;
}
.carousel-button.next {
    right: 10px;
}

@media only screen and (max-width: 768px) {
    .carousel {
        max-width: 90%; /* Smaller width on smaller screens */
        height: auto; /* Adjust height accordingly */
    }
}
</style>

<!-- The client:load directive hydrates the component on the client side after the page has loaded -->
<div class="carousel">
    <div class="carousel-images">
        {images.map((src, index) => (
            <img src={src} alt={`Slide ${index + 1}`} class={`carousel-image ${index === 0 ? 'active' : ''}`} data-index={index} />
        ))}
    </div>
    <button class="carousel-button prev">&#10094;</button>
    <button class="carousel-button next">&#10095;</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const images = document.querySelectorAll('.carousel-image');
    let activeIndex = 0;

    function showSlide(index) {
        images.forEach(img => img.classList.remove('active'));
        images[index].classList.add('active');
    }

    function slide(direction) {
        activeIndex = (activeIndex + direction + images.length) % images.length;
        showSlide(activeIndex);
    }

    document.querySelector('.carousel-button.prev').addEventListener('click', () => slide(-1));
    document.querySelector('.carousel-button.next').addEventListener('click', () => slide(1));
});
</script>